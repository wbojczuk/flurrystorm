/*
 Program: flurrystorm.js
 Version: 1.1 
 Creator: William Bojczuk (wiliambojcuzk@gmail.com)
 License: BSD
 Github: https://github.com/wbojczuk
 Website: https://williambojczuk.com 
 */
function snowScript(){function r(){a++;var t,o=flurryStorm.minFlakeSize,e=Math.random()*(flurryStorm.maxFlakeSize-o)+o;t=1==flurryStorm.scrollSnow?0+window.pageYOffset:0,flurryStorm.snowflakes.push({x:Math.random()*window.innerWidth,y:t,size:e,windY:Math.random()*(flurryStorm.maxWindY-flurryStorm.minWindY)+flurryStorm.minWindY,windX:Math.random()*(flurryStorm.maxWindX-flurryStorm.minWindX)+flurryStorm.minWindX,stopped:!1}),f=flurryStorm.snowflakes.length;var n=f-1;1==flurryStorm.scrollSnow?flurryStorm.maxWindX>=3?4*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=window.innerWidth,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX>=1&&flurryStorm.maxWindX<3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=window.innerWidth,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX<0&&flurryStorm.maxWindX>-3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=0,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX<=-3&&4*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=0,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX>=3?4*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=window.innerWidth,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight-0)+0):flurryStorm.maxWindX>=1&&flurryStorm.maxWindX<3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=window.innerWidth,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight-0)+0):flurryStorm.maxWindX<0&&flurryStorm.maxWindX>-3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=0,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight-0)+0):flurryStorm.maxWindX<=-3&&4*Math.random()>=2.5&&(flurryStorm.snowflakes[n].x=0,flurryStorm.snowflakes[n].y=Math.random()*(window.innerHeight-0)+0),a<flurryStorm.maxFlakeAmount&&setTimeout(r,50)}function t(){m.clearRect(0,0,l.width,l.height);for(let t=0;t<f;t++)if(null==flurryStorm.imageSRC?(m.beginPath(),m.arc(flurryStorm.snowflakes[t].x,flurryStorm.snowflakes[t].y,flurryStorm.snowflakes[t].size,0,2*Math.PI,!1),m.fillStyle=flurryStorm.flakeColor,m.fill()):m.drawImage(e,flurryStorm.snowflakes[t].x,flurryStorm.snowflakes[t].y,flurryStorm.snowflakes[t].size,flurryStorm.snowflakes[t].size),1==flurryStorm.flakeStick&&0==flurryStorm.scrollSnow&&flurryStorm.snowflakes[t].y>=window.innerHeight-(flurryStorm.snowflakes[t].size+1)&&(flurryStorm.snowflakes[t].stopped=!0),1==flurryStorm.snowflakes[t].stopped&&flurryStorm.snowflakes[t].size>flurryStorm.meltSpeed+.01?(flurryStorm.snowflakes[t].size-=flurryStorm.meltSpeed,flurryStorm.snowflakes[t].y=window.innerHeight-(flurryStorm.snowflakes[t].size+1)):1==flurryStorm.snowflakes[t].stopped&&flurryStorm.snowflakes[t].size<=flurryStorm.meltSpeed+.01&&(flurryStorm.snowflakes[t].stopped=!1),0==flurryStorm.snowflakes[t].stopped&&(flurryStorm.snowflakes[t].x-=flurryStorm.snowflakes[t].windX,flurryStorm.snowflakes[t].y+=flurryStorm.snowflakes[t].windY),1==flurryStorm.scrollSnow){if(flurryStorm.snowflakes[t].x<=0-flurryStorm.snowflakes[t].size||flurryStorm.snowflakes[t].y>=window.innerHeight+flurryStorm.snowflakes[t].size+window.pageYOffset){var r=Math.random()*(flurryStorm.maxFlakeSize-flurryStorm.minFlakeSize)+flurryStorm.minFlakeSize;flurryStorm.snowflakes[t].x=Math.random()*window.innerWidth,flurryStorm.snowflakes[t].y=0+window.pageYOffset,flurryStorm.snowflakes[t].windY=Math.random()*(flurryStorm.maxWindY-flurryStorm.minWindY)+flurryStorm.minWindY,flurryStorm.snowflakes[t].windX=Math.random()*(flurryStorm.maxWindX-flurryStorm.minWindX)+flurryStorm.minWindX,flurryStorm.snowflakes[t].size=r,flurryStorm.maxWindX>=3?4*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=window.innerWidth,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX>=1&&flurryStorm.maxWindX<3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=window.innerWidth,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX<0&&flurryStorm.maxWindX>-3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=0,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset):flurryStorm.maxWindX<=-3&&4*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=0,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight+window.pageYOffset-window.pageYOffset)+window.pageYOffset)}}else if(flurryStorm.snowflakes[t].x<=0-flurryStorm.snowflakes[t].size||flurryStorm.snowflakes[t].y>=window.innerHeight+flurryStorm.snowflakes[t].size){r=Math.random()*(flurryStorm.maxFlakeSize-flurryStorm.minFlakeSize)+flurryStorm.minFlakeSize;flurryStorm.snowflakes[t].x=Math.random()*window.innerWidth,flurryStorm.snowflakes[t].y=0,flurryStorm.snowflakes[t].windY=Math.random()*(flurryStorm.maxWindY-flurryStorm.minWindY)+flurryStorm.minWindY,flurryStorm.snowflakes[t].windX=Math.random()*(flurryStorm.maxWindX-flurryStorm.minWindX)+flurryStorm.minWindX,flurryStorm.snowflakes[t].size=r,flurryStorm.maxWindX>=3?4*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=window.innerWidth,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight-0)+0):flurryStorm.maxWindX>=1&&flurryStorm.maxWindX<3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=window.innerWidth,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight-0)+0):flurryStorm.maxWindX<0&&flurryStorm.maxWindX>-3?3*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=0,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight-0)+0):flurryStorm.maxWindX<=-3&&4*Math.random()>=2.5&&(flurryStorm.snowflakes[t].x=0,flurryStorm.snowflakes[t].y=Math.random()*(window.innerHeight-0)+0)}if("on"==flurryStorm.state)requestAnimationFrame(t);else if("off"==flurryStorm.state)m.clearRect(0,0,l.width,l.height);else if("pause"==flurryStorm.state){function o(){"unpause"==flurryStorm.state?(flurryStorm.state="on",requestAnimationFrame(t)):setTimeout(o,10)}setTimeout(o,10)}}flurryStorm.listenerState="off",flurryStorm.toggleListeners(),flurryStorm.listenerState="on",flurryStorm.toggleListeners();var o=document.querySelectorAll("#snowCanvas");o.length>=1&&o[0].remove();var e=new Image;if(null!==flurryStorm.imageSRC&&(e.src=flurryStorm.imageSRC),"pause"==flurryStorm.state)return flurryStorm.state="on",t();var n=document.createElement("canvas");n.setAttribute("id","snowCanvas"),document.getElementsByTagName("body")[0].append(n);var l=document.getElementById("snowCanvas");flurryStorm.snowflakes=[];var f,i,m=l.getContext("2d");1==flurryStorm.scrollSnow?setTimeout(function(){i=Math.max(document.body.scrollHeight,document.body.clientHeight,document.body.offsetHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),l.height=i,l.width=document.body.clientWidth,l.style.position="absolute"},100):setTimeout(function(){l.style.position="fixed",l.height=document.body.clientHeight,l.width=document.body.clientWidth},100),l.style.overflow="hidden",l.style.pointerEvents="none",l.style.top="0",l.style.zIndex=flurryStorm.zIndex,setTimeout(r,50);var a=0;t()}var flurryStorm={autoStart:!0,maxFlakeAmount:64,flakeColor:"white",scrollSnow:!1,maxFlakeSize:2.5,minFlakeSize:.5,maxWindX:4,minWindX:3,maxWindY:3,minWindY:2,flakeStick:!0,meltSpeed:.01,zIndex:2,imageSRC:null,toggleState:function(){"on"==flurryStorm.state?(flurryStorm.state="off",flurryStorm.listenerState="off",flurryStorm.toggleListeners(),document.getElementById("snowCanvas").remove()):"off"==flurryStorm.state||null==flurryStorm.state?(flurryStorm.state="on",snowScript()):"pause"==flurryStorm.state&&(flurryStorm.state="unpause")},state:null,pause:function(){flurryStorm.state="pause"},resume:function(){"off"==flurryStorm.state||null==flurryStorm.state?(flurryStorm.state="on",snowScript()):"pause"==flurryStorm.state&&(flurryStorm.state="unpause")},stop:function(){flurryStorm.state="off",flurryStorm.listenerState="off",flurryStorm.toggleListeners(),document.getElementById("snowCanvas").remove()},start:function(){"pause"==flurryStorm.state?flurryStorm.state="unpause":(flurryStorm.state="on",snowScript())},snowflakes:[],scrollWindowListener:function(){snowCanvas.width=document.body.clientWidth,height=Math.max(document.body.scrollHeight,document.body.clientHeight,document.body.offsetHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),snowCanvas.height=height},WindowListener:function(){snowCanvas.height=document.body.clientHeight,snowCanvas.width=document.body.clientWidth},listenerState:"on",toggleListeners:function(){"on"==flurryStorm.listenerState?1==flurryStorm.scrollSnow?window.addEventListener("resize",this.scrollWindowListener):0==flurryStorm.scrollSnow&&window.addEventListener("resize",this.WindowListener):"off"==flurryStorm.listenerState&&(window.removeEventListener("resize",this.scrollWindowListener),window.removeEventListener("resize",this.WindowListener))}};1==flurryStorm.autoStart&&(flurryStorm.state="on",snowScript());